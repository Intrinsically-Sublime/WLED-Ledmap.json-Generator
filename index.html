<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>WLED-Ledmap.json-Generator</title>
    <link rel="stylesheet" type="text/css" href="XYmapper.css">

    <script src="XYmapper.js"></script>

  </head>
  <body>
    <button class="darkToggle" id="lightToggle" onclick="lightMode()">Light</button>
    <h2>WLED-Ledmap.json-Generator</h2>
    <label><b>Other versions!</b></label>
<!--      <a href="https://intrinsically-sublime.github.io/WLED-Ledmap.json-Generator/">WLED Ledmap</a>, -->
      <a href="https://intrinsically-sublime.github.io/WLED-2D-gaps.json-Generator/">WLED 2d-gaps</a>, 
      <a href="https://intrinsically-sublime.github.io/FastLED-XY-Map-Generator/">FastLED config</a>, 
      <a href="https://intrinsically-sublime.github.io/WLED-Arbitrary-Path-Ledmap.json-Generator/">WLED Arbitrary paths</a>
    <hr>
    
    <label style="font-size: 1.1em;"><b>How to use  </b></label> <button id="showGuide" onclick="showGuide()">Video guide</button>
    <ol>
      <li>Configure the array by setting the maximum x and y dimensions and click Rebuild.<br>
      <li>Click the LEDs to edit the shape of the array by enabling, discarding or hiding pixels.<br>
      <li>Download the resulting "ledmap.json" file and upload it to your device via http://yourdeviceip/edit (does not work in AP mode)<br>
    </ol>
    <b> *</b> For freestyle mode you must start with all pixels unchecked and then select them in the order you want them.<br>&emsp; There are NO arrows in freestyle and the only indicator of the order is the numbering.<br>
    <b> **</b> Allows you to set the first LED number. Example: Your matrix is at the end of a strip.<br>
    <hr>
    <div class="controls">
      <div class="optionBox">
        <label class="nameBox" ><b>Array</b></label>
            <div class="inputBox">
              <input id="xdim" type="number" name="xdim" min="1" value="16"/>
              <label class="inputText">Width</label>
            </div>
            <div class="inputBox">
              <input id="ydim" type="number" name="ydim" min="1" value="5"/>
              <label class="inputText">Height</label>
            </div>
            <div class="inputBox">
              <input id="startIndex" type="number" name="startIndex" min="0" value="0"/>
              <label class="inputText">Start (n)**</label>
            </div>
      </div>
      <div class="optionBox">
        <br>
          <div class="buildBox">
            <input type="checkbox" id="clearAllCHK" onchange="clearAllPixels(this)">
            <label for="clearAllCHK">Start empty</label>
          </div>
          <div class="buildBox">
            <button id="rebuildArray" onclick="buildGrid()">Rebuild</button>
          </div>
      </div>
      <div class="optionBox">
        <label class="nameBox" ><b>Options</b></label>
          <div class="buildBox">
            <input type="radio" checked id="wLedCHK" name="outputMode" onchange="wLedOutput(this)">
            <label for="wLedCHK">Normal</label><br>
            <input type="radio" id="freeCHK" name="outputMode" onchange="freeOutput(this)">
            <label for="freeCHK">Freestyle <b>*</b></label><br>
          </div><br>
      </div>
      <div class="optionBox">
        <div class="buildBox">
          <input type="checkbox" checked id="discardCHK" onchange="discardPixels(this)">
          <label for="discardCHK">Discard unchecked pixels</label><br>
          <input type="checkbox" id="serpentineCHK" onchange="serpentineLayout(this)">
          <label for="discardCHK">Serpentine</label><br>
          <input type="checkbox" id="verticalCHK" onchange="verticalLayout(this)">
          <label for="discardCHK">Vertical</label><br>
          <input type="checkbox" id="vflipCHK" onchange="vflipLayout(this)">
          <label for="discardCHK">V-Flip</label>
          <input type="checkbox" id="hflipCHK" onchange="hflipLayout(this)">
          <label for="discardCHK">H-Flip</label>
        </div>
      </div>
      <div class="optionBox">
        <label class="nameBox" ><b>Matrix name</b></label>
        <div class="buildBox">
          <input class="nameBox" id="matrixName" type="text" name="matrixName" value="my_matrix"/><br>
        </div>
        <div class="buildBox">
          <button class="button" id="downloadFile" onclick="download()">Download</button><br>
        </div>
        <div class="buildBox">
          <button class="button" id="copyResults" onclick="copyOutput()">Copy</button>
        </div>
      </div>
    </div>

    <div class="ledGrid" id="ledgrid"></div>
    <div id="infoOut"></div>
    <br>
    <div id="result"></div>
    
    <ul><br>
      <label><b>ISSUES:</b></label> <a href="https://github.com/Intrinsically-Sublime/WLED-Ledmap.json-Generator/issues">Github</a>
        <hr style="width:35%;text-align:left;margin-left:0">
      <label><b>CREDIT:</b></label>
        <ul>
          <p><a href="https://github.com/Intrinsically-Sublime/WLED-Ledmap.json-Generator">WLED Ledmap.json Generator Code </a>by Intrinsically-Sublime<br> 
          Based on FastLED <a href="https://github.com/macetech/FastLED-XY-Map-Generator"> XY-Map-Generator</a> by Garrett Mace</p>
        </ul>
        <hr style="width:35%;text-align:left;margin-left:0">
    </ul>
    
    <div id="popupGuide" class="modal">
        <div class="closeButton" onclick="hideGuide()"> &times; </div>
        <img class="popupContents" src="https://raw.githubusercontent.com/dosipod/WLED-Ledmap-Generator/master/assets/images/content/how_to_use_map_genrator.gif" alt="Animated instructions">
    </div>
    
  </body>
</html>
